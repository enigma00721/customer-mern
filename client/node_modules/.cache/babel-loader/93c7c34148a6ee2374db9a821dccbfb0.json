{"ast":null,"code":"var _jsxFileName = \"/home/raju/Documents/Channakya/customer/client/src/pages/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, TextField, Button, Typography } from \"@material-ui/core\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport useStyles from \"./LoginStyles\";\nimport axios from \"axios\";\nimport { AuthenticationContext } from \"../AuthenticationProvider\";\nimport { useContext } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  var _errors$email, _errors$password;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    authenticationStatus,\n    setAuthenticationStatus\n  } = useContext(AuthenticationContext);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm(); // handle login form submit\n\n  const onSubmit = data => {\n    // console.log(data);\n    axios.post(\"/auth/login\", data).then(response => {\n      setAuthenticationStatus(\"loggedIn\");\n      history.push(\"/dashboard\");\n      console.log(authenticationStatus);\n    }).catch(err => enqueueSnackbar(\"Password didn't match maybe!\", {\n      variant: \"error\"\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"form\",\n    onSubmit: handleSubmit(onSubmit),\n    className: classes.box,\n    m: 5,\n    p: 5,\n    width: \"25%\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      variant: \"h4\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      error: errors.email && true,\n      ...register(\"email\", {\n        required: \"Email is required!\"\n      }),\n      id: \"outlined-basic\",\n      label: \"Email\",\n      variant: \"outlined\",\n      className: classes.input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      component: \"span\",\n      variant: \"caption\",\n      className: classes.error,\n      children: ((_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type) === \"required\" && errors.email.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, { ...register(\"password\", {\n        required: \"Password is required!\"\n      }),\n      error: errors.password && true,\n      id: \"outlined-basic\",\n      label: \"Password\",\n      variant: \"outlined\",\n      className: classes.input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      component: \"span\",\n      variant: \"caption\",\n      className: classes.error,\n      children: ((_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.type) === \"required\" && errors.password.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      className: classes.input,\n      variant: \"contained\",\n      size: \"large\",\n      color: \"primary\",\n      style: {\n        marginTop: \"20px\"\n      },\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      component: \"span\",\n      variant: \"body2\",\n      children: [\"No Account \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 20\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"4zZTGbdFU7YozRwNoM+AWnbuoco=\", false, function () {\n  return [useStyles, useHistory, useSnackbar, useForm];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/raju/Documents/Channakya/customer/client/src/pages/Login.tsx"],"names":["Box","TextField","Button","Typography","Link","useHistory","useForm","useStyles","axios","AuthenticationContext","useContext","useSnackbar","Login","classes","history","authenticationStatus","setAuthenticationStatus","enqueueSnackbar","register","handleSubmit","formState","errors","onSubmit","data","post","then","response","push","console","log","catch","err","variant","box","title","email","required","input","error","type","message","password","marginTop"],"mappings":"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","sourcesContent":["import { Box, TextField, Button, Typography } from \"@material-ui/core\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport useStyles from \"./LoginStyles\";\nimport axios from \"axios\";\nimport { AuthenticationContext } from \"../AuthenticationProvider\";\nimport { useContext } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\n\ninterface IForm {\n  email: string;\n  password: string;\n}\n\nconst Login = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { authenticationStatus, setAuthenticationStatus } = useContext(\n    AuthenticationContext\n  );\n  const { enqueueSnackbar } = useSnackbar();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  // handle login form submit\n  const onSubmit = (data: IForm) => {\n    // console.log(data);\n    axios\n      .post(\"/auth/login\", data)\n      .then((response) => {\n        setAuthenticationStatus(\"loggedIn\");\n        history.push(\"/dashboard\");\n        console.log(authenticationStatus);\n      })\n      .catch((err) =>\n        enqueueSnackbar(\"Password didn't match maybe!\", { variant: \"error\" })\n      );\n  };\n\n  return (\n    <Box\n      component=\"form\"\n      onSubmit={handleSubmit(onSubmit)}\n      className={classes.box}\n      m={5}\n      p={5}\n      width=\"25%\"\n    >\n      <Typography className={classes.title} variant=\"h4\">\n        Login\n      </Typography>\n\n      <TextField\n        error={errors.email && true}\n        {...register(\"email\", { required: \"Email is required!\" })}\n        id=\"outlined-basic\"\n        label=\"Email\"\n        variant=\"outlined\"\n        className={classes.input}\n      />\n      <Typography component=\"span\" variant=\"caption\" className={classes.error}>\n        {errors.email?.type === \"required\" && errors.email.message}\n      </Typography>\n\n      <TextField\n        {...register(\"password\", { required: \"Password is required!\" })}\n        error={errors.password && true}\n        id=\"outlined-basic\"\n        label=\"Password\"\n        variant=\"outlined\"\n        className={classes.input}\n      />\n      <Typography component=\"span\" variant=\"caption\" className={classes.error}>\n        {errors.password?.type === \"required\" && errors.password.message}\n      </Typography>\n\n      <Button\n        type=\"submit\"\n        className={classes.input}\n        variant=\"contained\"\n        size=\"large\"\n        color=\"primary\"\n        style={{ marginTop: \"20px\" }}\n      >\n        Submit\n      </Button>\n\n      <Typography component=\"span\" variant=\"body2\">\n        No Account <Link to=\"/register\">Register</Link>{\" \"}\n      </Typography>\n    </Box>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}