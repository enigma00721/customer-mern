{"ast":null,"code":"var _jsxFileName = \"/home/raju/Documents/Channakya/customer/client/src/components/Content/Client/Client.tsx\",\n    _s = $RefreshSig$();\n\nimport { Paper, Box, Button, Dialog, DialogTitle, DialogActions, DialogContent, Table, TableBody, TableContainer, TableHead, TableRow, TextField } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\"; // library\n\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\"; // icons\n\nimport { PanTool, Delete } from \"@material-ui/icons\"; // styles\n\nimport useStyles from \"./ClientStyles\";\nimport StyledTableCell from \"../Partials/StyledTableCell\"; // alert confirm dialog component\n\nimport ConfirmDelete from \"../Partials/ConfirmDelete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Client = () => {\n  _s();\n\n  // state\n  const [open, setOpen] = useState(false); // add update client dialog\n\n  const [rows, setRows] = useState(null);\n  const [isEdit, setIsEdit] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false); // delete confirm dialog state\n\n  const [deleteId, setDeleteId] = useState(null); // react-form-hook\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      errors\n    }\n  } = useForm(); // notification snackbar\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  useEffect(() => {\n    getAllData();\n  }, []); // fetch all client data\n\n  const getAllData = () => {\n    axios.get(\"api/client\").then(response => {\n      console.log(response.data);\n      setRows(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }; // handle add client dialog config\n\n\n  const handleAddClientDialog = () => {\n    reset({});\n    setIsEdit(false);\n    setOpen(true);\n  }; // handle edit dialog config\n\n\n  const handleEdit = row => {\n    setIsEdit(true);\n    reset(row);\n    setOpen(true);\n  }; // save new client or update client\n\n\n  const handleClient = data => {\n    if (!isEdit) axios.post(\"api/client\", data).then(response => {\n      setRows(prevState => [...prevState, response.data]);\n      enqueueSnackbar(response.data.success_msg, {\n        variant: \"success\"\n      });\n    }).then(() => {\n      setOpen(!open);\n      reset();\n      getAllData();\n    }).catch(error => {\n      console.log(error);\n    });else axios.patch(\"/api/client/\" + data._id, data).then(response => {\n      getAllData();\n      setOpen(false);\n      enqueueSnackbar(response.data.success_msg, {\n        variant: \"success\"\n      });\n    }).catch(error => {\n      console.log(error);\n      enqueueSnackbar(error.message, {\n        variant: \"error\"\n      });\n    });\n  }; // delete client\n\n\n  const handleDelete = () => {\n    axios.delete(\"api/client/\" + deleteId).then(response => {\n      console.log(response);\n      enqueueSnackbar(response.data.success_msg, {\n        variant: \"success\"\n      });\n    }).then(() => {\n      setOpenDeleteDialog(false);\n      getAllData();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Box, {\n    m: 5,\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: classes.button,\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: handleAddClientDialog,\n      children: \"Add Client\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: () => setOpen(!open),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: [\" \", isEdit ? \"Edit Client\" : \"Add New Client\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(handleClient),\n        children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n          dividers: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            size: \"medium\",\n            variant: \"outlined\",\n            autoFocus: true,\n            label: \"Company Name\",\n            type: \"text\",\n            fullWidth: true,\n            ...register(\"company_name\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            size: \"medium\",\n            variant: \"outlined\",\n            label: \"Client Name\",\n            type: \"text\",\n            fullWidth: true,\n            ...register(\"client_name\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            size: \"medium\",\n            variant: \"outlined\",\n            label: \"Company Address\",\n            type: \"text\",\n            fullWidth: true,\n            ...register(\"company_address\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            size: \"medium\",\n            variant: \"outlined\",\n            label: \"Company Email\",\n            type: \"email\",\n            fullWidth: true,\n            ...register(\"email\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            size: \"medium\",\n            variant: \"outlined\",\n            label: \"Company Phone\",\n            type: \"number\",\n            fullWidth: true,\n            ...register(\"phone\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            variant: \"contained\",\n            type: \"submit\",\n            children: isEdit ? \"Update\" : \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"secondary\",\n            variant: \"contained\",\n            onClick: () => {\n              setOpen(false);\n              setIsEdit(false);\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      style: {\n        marginTop: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: \"Company Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: \"Company Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: \"Client Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: rows === null || rows === void 0 ? void 0 : rows.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: row.company_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: row.company_address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: row.client_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: row.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              children: row.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"left\",\n              className: \"actionIcon\",\n              children: [/*#__PURE__*/_jsxDEV(PanTool, {\n                fontSize: \"small\",\n                onClick: () => handleEdit(row)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Delete, {\n                fontSize: \"medium\",\n                onClick: () => {\n                  setOpenDeleteDialog(true);\n                  setDeleteId(row._id);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, row._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmDelete, {\n      openDeleteDialog: openDeleteDialog,\n      setOpenDeleteDialog: setOpenDeleteDialog,\n      handleDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Client, \"IKLwxQ2EA23Jud+p4bIxM6KqZQU=\", false, function () {\n  return [useForm, useSnackbar, useStyles];\n});\n\n_c = Client;\nexport default Client;\n\nvar _c;\n\n$RefreshReg$(_c, \"Client\");","map":{"version":3,"sources":["/home/raju/Documents/Channakya/customer/client/src/components/Content/Client/Client.tsx"],"names":["Paper","Box","Button","Dialog","DialogTitle","DialogActions","DialogContent","Table","TableBody","TableContainer","TableHead","TableRow","TextField","useEffect","useState","useForm","axios","useSnackbar","PanTool","Delete","useStyles","StyledTableCell","ConfirmDelete","Client","open","setOpen","rows","setRows","isEdit","setIsEdit","openDeleteDialog","setOpenDeleteDialog","deleteId","setDeleteId","register","handleSubmit","reset","formState","errors","enqueueSnackbar","getAllData","get","then","response","console","log","data","catch","error","handleAddClientDialog","handleEdit","row","handleClient","post","prevState","success_msg","variant","patch","_id","message","handleDelete","delete","classes","button","required","marginTop","map","company_name","company_address","client_name","email","phone"],"mappings":"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","sourcesContent":["import {\n  Paper,\n  Box,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\n// library\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\n// icons\nimport { PanTool, Delete } from \"@material-ui/icons\";\n// styles\nimport useStyles from \"./ClientStyles\";\nimport StyledTableCell from \"../Partials/StyledTableCell\";\n// alert confirm dialog component\nimport ConfirmDelete from \"../Partials/ConfirmDelete\";\n\ninterface FormData {\n  _id?: string;\n  company_name: string;\n  company_address: string;\n  client_name: string;\n  email: string;\n  phone: number;\n}\n\nconst Client = () => {\n  // state\n  const [open, setOpen] = useState<boolean>(false); // add update client dialog\n  const [rows, setRows] = useState<FormData[]>(null);\n  const [isEdit, setIsEdit] = useState<boolean>(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState<boolean>(false); // delete confirm dialog state\n  const [deleteId, setDeleteId] = useState<string>(null);\n\n  // react-form-hook\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm<FormData>();\n\n  // notification snackbar\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    getAllData();\n  }, []);\n\n  // fetch all client data\n  const getAllData = () => {\n    axios\n      .get(\"api/client\")\n      .then((response) => {\n        console.log(response.data);\n        setRows(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  // handle add client dialog config\n  const handleAddClientDialog = () => {\n    reset({});\n    setIsEdit(false);\n    setOpen(true);\n  };\n  // handle edit dialog config\n  const handleEdit = (row: FormData): void => {\n    setIsEdit(true);\n    reset(row);\n    setOpen(true);\n  };\n\n  // save new client or update client\n  const handleClient = (data: FormData) => {\n    if (!isEdit)\n      axios\n        .post(\"api/client\", data)\n        .then((response) => {\n          setRows((prevState) => [...prevState, response.data]);\n          enqueueSnackbar(response.data.success_msg, { variant: \"success\" });\n        })\n        .then(() => {\n          setOpen(!open);\n          reset();\n          getAllData();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    else\n      axios\n        .patch(\"/api/client/\" + data._id, data)\n        .then((response) => {\n          getAllData();\n          setOpen(false);\n          enqueueSnackbar(response.data.success_msg, { variant: \"success\" });\n        })\n        .catch((error) => {\n          console.log(error);\n          enqueueSnackbar(error.message, { variant: \"error\" });\n        });\n  };\n\n  // delete client\n  const handleDelete = (): void => {\n    axios\n      .delete(\"api/client/\" + deleteId)\n      .then((response) => {\n        console.log(response);\n        enqueueSnackbar(response.data.success_msg, { variant: \"success\" });\n      })\n      .then(() => {\n        setOpenDeleteDialog(false);\n        getAllData();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Box m={5}>\n      <Button\n        className={classes.button}\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleAddClientDialog}\n      >\n        Add Client\n      </Button>\n\n      <Dialog open={open} onClose={() => setOpen(!open)}>\n        <DialogTitle id=\"form-dialog-title\">\n          {\" \"}\n          {isEdit ? \"Edit Client\" : \"Add New Client\"}\n        </DialogTitle>\n\n        <form onSubmit={handleSubmit(handleClient)}>\n          <DialogContent dividers={true}>\n            <TextField\n              margin=\"normal\"\n              size=\"medium\"\n              variant=\"outlined\"\n              autoFocus\n              label=\"Company Name\"\n              type=\"text\"\n              fullWidth\n              {...register(\"company_name\", { required: true })}\n            />\n            <TextField\n              margin=\"normal\"\n              size=\"medium\"\n              variant=\"outlined\"\n              label=\"Client Name\"\n              type=\"text\"\n              fullWidth\n              {...register(\"client_name\", { required: true })}\n            />\n            <TextField\n              margin=\"normal\"\n              size=\"medium\"\n              variant=\"outlined\"\n              label=\"Company Address\"\n              type=\"text\"\n              fullWidth\n              {...register(\"company_address\", { required: true })}\n            />\n            <TextField\n              margin=\"normal\"\n              size=\"medium\"\n              variant=\"outlined\"\n              label=\"Company Email\"\n              type=\"email\"\n              fullWidth\n              {...register(\"email\", { required: true })}\n            />\n            <TextField\n              margin=\"normal\"\n              size=\"medium\"\n              variant=\"outlined\"\n              label=\"Company Phone\"\n              type=\"number\"\n              fullWidth\n              {...register(\"phone\", { required: true })}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button color=\"primary\" variant=\"contained\" type=\"submit\">\n              {isEdit ? \"Update\" : \"Save\"}\n            </Button>\n            <Button\n              color=\"secondary\"\n              variant=\"contained\"\n              onClick={() => {\n                setOpen(false);\n                setIsEdit(false);\n              }}\n            >\n              Cancel\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n\n      <TableContainer component={Paper} style={{ marginTop: \"20px\" }}>\n        <Table aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <StyledTableCell align=\"left\">Company Name</StyledTableCell>\n              <StyledTableCell align=\"left\">Company Address</StyledTableCell>\n              <StyledTableCell align=\"left\">Client Name</StyledTableCell>\n              <StyledTableCell align=\"left\">Email</StyledTableCell>\n              <StyledTableCell align=\"left\">Phone</StyledTableCell>\n              <StyledTableCell align=\"left\">Actions</StyledTableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows?.map((row) => (\n              <TableRow key={row._id}>\n                <StyledTableCell align=\"left\">\n                  {row.company_name}\n                </StyledTableCell>\n                <StyledTableCell align=\"left\">\n                  {row.company_address}\n                </StyledTableCell>\n                <StyledTableCell align=\"left\">\n                  {row.client_name}\n                </StyledTableCell>\n                <StyledTableCell align=\"left\">{row.email}</StyledTableCell>\n                <StyledTableCell align=\"left\">{row.phone}</StyledTableCell>\n\n                <StyledTableCell align=\"left\" className=\"actionIcon\">\n                  <PanTool fontSize=\"small\" onClick={() => handleEdit(row)} />\n                  <Delete\n                    fontSize=\"medium\"\n                    onClick={() => {\n                      setOpenDeleteDialog(true);\n                      setDeleteId(row._id);\n                    }}\n                  />\n                </StyledTableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <ConfirmDelete\n        openDeleteDialog={openDeleteDialog}\n        setOpenDeleteDialog={setOpenDeleteDialog}\n        handleDelete={handleDelete}\n      />\n    </Box>\n  );\n};\n\nexport default Client;\n"]},"metadata":{},"sourceType":"module"}